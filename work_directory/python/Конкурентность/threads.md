
```python
import time
from concurrent import futures

def calc(num):
    time.sleep(2)
    print(num**2)


# tread | process


def thread_process(numbers, func, threads_num):
    starting_time = time.time()
    with futures.ThreadPoolExecutor(threads_num) as thread:
        thread.map(func, numbers)  # Передаем func и список чисел
    print(time.time() - starting_time)


numbers = range(1, 11)  # Список чисел от 1 до 10
thread_process(numbers=numbers, func=calc, threads_num=5)
```

Объяснение:

1. thread_process принимает список numbers:
   - Теперь функция thread_process принимает аргумент numbers, который является списком (или любым другим итерируемым объектом) чисел, которые нужно обработать.

2. thread.map(func, numbers):
   - Внутри thread_process, мы вызываем thread.map(func, numbers).  Это говорит ThreadPoolExecutor взять каждое число из списка numbers и запустить функцию calc с этим числом в отдельном потоке.

3. Создание списка чисел numbers:
   - Мы создаем список чисел numbers = range(1, 11) (или numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]) перед вызовом thread_process.

4. Вызов thread_process:
   - Мы вызываем thread_process(numbers=numbers, func=calc, threads_num=5).  Это передает список чисел, функцию calc и количество потоков в thread_process.

Как это работает:

- thread_process получает список чисел numbers (от 1 до 10) и функцию calc.
- ThreadPoolExecutor создает пул из threads_num (5) потоков.
- thread.map(calc, numbers):
  - Берет первое число (1) из списка numbers и запускает функцию calc(1) в одном из потоков пула.
  - Берет второе число (2) из списка numbers и запускает функцию calc(2) в другом потоке пула (или в том же, если первый поток уже свободен).
  - Продолжает так, пока все числа из списка numbers не будут обработаны.  Поскольку у нас 10 чисел и 5 потоков, каждый поток обработает примерно по 2 числа.
- thread.map ждет, пока все потоки завершат свою работу.
- После завершения всех потоков, выводится время выполнения.

Важные моменты:

- Функция calc должна быть определена так, чтобы она принимала один аргумент (в данном случае, число).
- threads_num - это количество потоков, которые будут использоваться для обработки чисел.  Вы можете настроить это значение в соответствии с вашими потребностями.
- Порядок выполнения calc для разных чисел может быть непредсказуемым, потому что потоки выполняются параллельно.
- Благодаря параллельности, общее время выполнения должно быть значительно меньше, чем если бы мы выполняли calc для каждого числа последовательно.  Особенно если calc выполняет какие-то операции, требующие ожидания (например, time.sleep или сетевые запросы).

Этот код запускает функцию calc для каждого числа в диапазоне от 1 до 10, используя 5 потоков для параллельной обработки.  Это позволит значительно ускорить выполнение, если calc занимает много времени.