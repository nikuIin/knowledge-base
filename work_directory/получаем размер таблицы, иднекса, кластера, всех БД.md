[[postgreSQL]]

* Получаем размер определенного поля
```sql
select pg_column_size(uuid7()::UUID);
-- 16
```

* Получаем размер всех `БД` в `кластере`:
```sql
select datname, pg_size_pretty(pg_database_size(datname)) as size from pg_database order by pg_database_size(datname) desc;
```

* Получаем размер всех `таблиц`, `индексов` и их `toast-таблиц` в `БД`:
```sql
select
  tablename,
  pg_size_pretty(
    pg_total_relation_size(
      schemaname || '.' || tablename
    )
  ) as size
from pg_tables
where schemaname='public'
order by pg_total_relation_size(
  schemaname || '.' || tablename
) desc;
```

* Получаем размер всех `индексов` в `схеме`:
```sql
select
  indexname,
  tablemame,
  pg_size_pretty(pg_total_relation_size(oid)) as index_size
from pg_indexes
join pg_class on pg_class.relname = pg_indexes.indexname
where schemaname='public'
order by pg_total_relation_size(oid); -- pg_size_pretty() -> text, не используй его в сортировке

```
