[[Поиск по коммитам git (git log -S word, -p, -G, --word-diff)]]

Иногда случается ситуация, что наш код перестал работать на `HEAD` коммите (самом верхнем). Но мы точно знаем, что в определенный момент все было хорошо. Как найти коммит, который сломал всю систему?

Есть алгоритм бинарного поиска:

```bash
git bisect
```

Начинаем сеанс `bisect`:

```bash
git bisect start
```

Помечаем (обычно `HEAD`) коммит как плохой, то есть с ошибкой:

```bash 
git bisect bad
```

Ищем (ручками) коммит, когда все работало хорошо и помечаем его как хороший:

```bash
# если мы переключились на хороший коммит
git bisect good
# Или пишем хэш коммита
git bisect good 6b11ec8
```

Далее `bisect` будет автоматически переключаться по коммитам и ждать наш вердикт. Мы говорим, есть ли ошибка в коммите (`git bisect bad`) или нету (`git bisect good`). После нескольких итераций `git` сузит поиск до 1 коммита и напишет, что он проблемный. Также выведет `diff` с предыдущим.

```bash
b6c8c826ed98583a175ea4616ba9aad48ec0b1ad is the first bad commit
commit b6c8c826ed98583a175ea4616ba9aad48ec0b1ad
Author: Armstrong <armstrong@eventplannerz.com>
Date:   Tue Jul 13 04:25:01 2021 -0400

    replace meat dishes with vegetarian items

 appetizers.md | 4 ++--
 dinner.md     | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)
```

Теперь мы видим и знаем, когда случилась ошибка.

Закрываем сеанс `bisect`, он нас возвращает на коммит, с которого мы начинали

```bash
git bisect reset
```