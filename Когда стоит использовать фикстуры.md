[[Pytest Тестирование.canvas|Pytest Тестирование]]
[[Фикстуры fixture]]
[[Книга «Принципы Unit-тестирования» Владимир Хориков]]

Хориков пишет, что хорошая практика подготавливать данные в отдельных методах, в `pytest` презентации за это отвечали `фикстуры`.

Вот несколько советов:
- лучше не связывать тесты 1 `фикстурой`, если же она может измениться. Тогда тесты придется переписывать, если `фикстура` будет сильно на их исход влиять. Нету ничего страшного, если в тесте будет создаваться объект, который прост в своем создании. Например объект `Wine`. Также, чтобы изучить тест, нужно вдобавок будет изучать `фикстуру`, которая для теста этого используется, а это -вайб.
- А вот уже объекты для работы с окружением, подготовительные, так скажем, данные, например объект `репозитория` или настройка БД стоит выносить в `фикстуру`, так как они меняться будут редко.
- Если же `фикстура` не подготавливает окружение, а создает обычные объекты, но при этом занимает много место, хорошей будет идеей написать `фабричную фикстуру`:

```python
@fixture
def some(quantity: int):
    return {"quantity": quantity}
```

- на самом деле, даже `фикстуры окружения` стоит писать отдельные в отдельных классах, это понижает связность тестов между собой.