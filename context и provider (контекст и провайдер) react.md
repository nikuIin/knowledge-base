[[Frontend.canvas|Frontend canvas]]

Контекст в `React` позволяет **передавать параметры не через сами пропсы**, а через специальное пространство — `контекст`. Это помогает избежать передачи данных на множество уровней вложенности, когда параметры нужны только внутренним компонентам.

### Что такое `контекст`?

- Это **пространство хранения определённых значений** и внутренних параметров.
- Позволяет **передавать данные** глубоко вложенным компонентам, **минуя промежуточные уровни**, которым эти данные не нужны.

### Пример ситуации использования контекста

Если есть блок HTML, в который нужно передать значение внутренним компонентам через 10 слоёв вложенности, **передавать пропсы через все эти слои неудобно и избыточно**. Вместо этого:

- Мы помещаем данные в `контекст`.
- Оборачиваем весь блок в соответствующий `Context Provider`.
- Только нужные внутренние компоненты **получают доступ к этим данным напрямую из контекста**.

### Что можно хранить в контексте?

- Простые типы:  
  - `строки`  
  - `числа`  
  - другие примитивы
- Комплексные типы:  
  - интерфейсы  
  - классы  
  - логика (функции, методы и пр.)

### Компоненты для работы с контекстом

- `Context Provider` — создаётся вместе с контекстом и служит для **оборачивания UI-компонентов в логику доступа к данным**.
- Часто создаются **специальные хуки**, которые возвращают провайдера или предоставляют удобный интерфейс для доступа и изменения данных контекста динамически.

---

Таким образом, контекст в `React` — это мощный инструмент для ***управления состоянием и параметрами*** более масштабно и удобно, без передачи через множество промежуточных уровней.

### Пример работы `Context` в React:

1. Создаем контекст

```jsx
import React from 'react';

const ThemeContext = React.createContext('light'); // 'light' — значение по умолчанию
```

2. Создаем провайдер, который предоставляет значение контекста

```jsx
function App() {
  const theme = 'dark';

  return (
    <ThemeContext.Provider value={theme}>
      <Toolbar />
    </ThemeContext.Provider>
  );
}
```

3. Потребляем значение контекста в дочернем компоненте с помощью `useContext`

```jsx
import React, { useContext } from 'react';

function Toolbar() {
  return (
    <div>
      <ThemedButton />
    </div>
  );
}

function ThemedButton() {
  const theme = useContext(ThemeContext);
  return <button style={{ background: theme === 'dark' ? '#333' : '#FFF', color: theme === 'dark' ? '#FFF' : '#000' }}>
    Кнопка с темой {theme}
  </button>;
}
```

---

### Кратко о работе `Context` в React:

- **`React.createContext`** — создает объект контекста.
- **`Provider`** — компонент, который предоставляет значение контекста вложенным компонентам.
- **`useContext`** — хук для удобного чтения значения контекста внутри функционального компонента.
- Контекст полезен для передачи таких данных, как **тема**, **аутентификация** или **настройки приложения** без «пробрасывания» пропсов на каждом уровне.
