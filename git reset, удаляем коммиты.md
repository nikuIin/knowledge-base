[[Версионность git (коммиты)]]

Зачастую мы должны откатить (удалить) наши коммиты. Можно конечно просто откатиться на нужный и поставить ссылку ветки на него, тем самым удалив нужную часть, но этот подход неудобен, потому что вы можете потерять данные, которые не хотелось бы терять. 

Для удаления коммитов существует команда `reset`. Давайте рассмотрим способы ее применения:

```bash
git reset --soft HEAD~1
```

Этот вид команды, с флагом `--soft`, пойдет в коммит, на 1 ниже текущего, найдет изменения по этому коммиту в локальной базе и уберет последующее изменения, НО также перенесет остальные изменения (которые были в удаленных коммитах) в индекс и в рабочий каталог. То есть вы с помощью флага `--soft` восстанавливаете изменения в локальном хранилище, а все остальное передаете в индекс и рабочий репозиторий. 

Также есть дефолтный флаг `--mixed`, его отличие от `--soft` в том, что он не добавляет откатанные изменения в индекс, он оставляет их только в репозитории. То есть у вас были изменения в локальном хранилище, вы их начинаете откатывать на 1 шаг вниз, они убираются из локального хранилища, но остаются в репозитории.

```bash
git reset --mixed HEAD~1
```

Последний флаг в `reset` — это `--hard`. Он же достает изменения из локального хранилища и ставит их как и в индекс, так и в репозиторий. 