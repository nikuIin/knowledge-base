[[SQLAlchemy]]
[[FastAPI.canvas|FastAPI]]
[[SQLAlchemy ORM создание таблиц декларативным способом (BaseModel, Classes)]]

После того, как мы создали модели таблиц, мы можем их эффективно (с точки зрения скорости программирования) добавлять в `базу данных`.

Давайте на всякий случай кое-что уточним: `ORM` все же синтаксический сахар, и сахар довольно таки дорогой. Нету никакого смысла изучать его для написания сложных запросов, ведь он может создать не лучшие `SQL` решения. + что на счет анализа этих запросов? Как он будет проходить? 
Поэтому, если это запрос не на вставку данных, не на простой выбор столбцов, то, пожалуйста, не ленитесь писать `SQL` запросы. 
Помните, вы разрабатываете систему для людей, так пусть она будет работать быстро.

Документация по `ORM`: https://docs.sqlalchemy.org/en/20/orm

* Простой `select`: https://docs.sqlalchemy.org/en/20/orm/quickstart.html#simple-select

#### Использование сессии

И для `ORM` запросов нужно создавать сессию. 

Пример запроса: 
```python
...

async def insert_users(session: AsyncSession):
	user1 = User(name="Ivan")
	user2 = User(name="Alex")
	async with session:
		session.add_all([user1, user2])
		await session.commit()

```