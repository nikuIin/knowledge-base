[[Версионность git (коммиты)]]

Коммиты можно изменять:

```bash
git commit --amend
```

Это команда сделает 2 вещи:
* перенесет все изменение из индекса при коммите в объетную базу данных
* откроет дефотный редактор, где можно изменить комментарий коммита

То есть, если вы хотите, например только переименовать коммит, то вам нужно убедиться, что `git status` выводит пустые изменения. Если же изменения присутствуют, то они занесутся в измененный коммит. 

Коммит можно переименовать без открытия редактора этой коммандой:
```bash
git commit --amend -m "new message"
```


## Какие коммиты можно изменять?

Изменить можно только самые верхние коммиты, которые не имеют потомков. То есть коммиты, на которые ссылаются ветки. 

## Как работает само изменение коммитов?

Коммит сам со себе неизменяемый, при `--amend` просто копируется старый коммит + добавляется новая информация, потом новый коммит заменяет старый. Через некоторое время устаревший коммит будет удален самим гитов из репозитория. 



