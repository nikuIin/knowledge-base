[[Pytest Тестирование.canvas|Pytest Тестирование]]
[[Фикстуры fixture]]

Везде хороша модульность, да и вообще модульность — одно из лучших решений. 

Так и мы можем вынести `фикстуры` на слой выше, чтобы все модули тестов могли их использовать. Например это очень хорошее решение для `фикстур`, отвечающих за работу с окружением, как подключение к `БД` или к `кеш-хранилищу` (`memcashed`, `redis`).

Чтобы создать такой модуль, нужно просто `фикстуры` определить в файле `confest.py`

Вот примерное дерево проекта:
```bash
tests
├── full
├── integration
├── unit
│   └── domain
│       └── entities
│           ├── conftest.py
│           └── token_test.py
└── conftest.py
```

Как мы видим, тут 2 `confest.py` и так должно быть. Самый внешний, как мы уже говорили, — настройка (`фикстуры`) под все тесты, а `confest` в `etntities` – только фикстуры, которые нужны для работы с доменным слоем приложения.

Давайте определим во внешнем конфиге подключение и работу с ==**тестовой**== базой данных — [[pytest настройка фикстуры по работе с БД]]
